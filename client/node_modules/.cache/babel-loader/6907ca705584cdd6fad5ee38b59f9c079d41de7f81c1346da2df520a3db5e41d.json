{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nclass MovieService {\n  // Get popular movies from TMDB\n  async getPopularMovies(page = 1) {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/movies/popular`, {\n        params: {\n          page\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching popular movies:', error);\n      throw error;\n    }\n  }\n\n  // Search movies\n  async searchMovies(query, page = 1) {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/movies/search`, {\n        params: {\n          query,\n          page\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error searching movies:', error);\n      throw error;\n    }\n  }\n\n  // Get movie details by ID\n  async getMovieDetails(movieId) {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/movies/${movieId}`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching movie details:', error);\n      throw error;\n    }\n  }\n\n  // Get movie genres\n  async getGenres() {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/movies/genres/list`);\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching genres:', error);\n      throw error;\n    }\n  }\n\n  // Get movies by genre\n  async getMoviesByGenre(genreId, page = 1) {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/movies/discover/genre/${genreId}`, {\n        params: {\n          page\n        }\n      });\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching movies by genre:', error);\n      throw error;\n    }\n  }\n\n  // Transform TMDB movie data to match our app's format\n  transformMovieData(tmdbMovie) {\n    return {\n      id: tmdbMovie.id,\n      title: tmdbMovie.title,\n      year: tmdbMovie.release_date ? new Date(tmdbMovie.release_date).getFullYear() : 'N/A',\n      genre: tmdbMovie.genres ? tmdbMovie.genres.map(g => g.name).join(', ') : 'N/A',\n      director: 'N/A',\n      // TMDB doesn't provide director in basic movie object\n      rating: tmdbMovie.vote_average || 0,\n      description: tmdbMovie.overview || 'No description available',\n      poster: tmdbMovie.poster_path ? `https://image.tmdb.org/t/p/w500${tmdbMovie.poster_path}` : 'https://via.placeholder.com/300x450?text=No+Image'\n    };\n  }\n\n  // Transform search results\n  transformSearchResults(results) {\n    return results.map(movie => this.transformMovieData(movie));\n  }\n}\nexport default new MovieService();","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","MovieService","getPopularMovies","page","response","get","params","data","error","console","searchMovies","query","getMovieDetails","movieId","getGenres","getMoviesByGenre","genreId","transformMovieData","tmdbMovie","id","title","year","release_date","Date","getFullYear","genre","genres","map","g","name","join","director","rating","vote_average","description","overview","poster","poster_path","transformSearchResults","results","movie"],"sources":["C:/Users/Lenovo/Desktop/MOVIE REVIEW PLATFORM/client/src/services/movieService.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nclass MovieService {\r\n  // Get popular movies from TMDB\r\n  async getPopularMovies(page = 1) {\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/movies/popular`, {\r\n        params: { page }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching popular movies:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Search movies\r\n  async searchMovies(query, page = 1) {\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/movies/search`, {\r\n        params: { query, page }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error searching movies:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Get movie details by ID\r\n  async getMovieDetails(movieId) {\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/movies/${movieId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching movie details:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Get movie genres\r\n  async getGenres() {\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/movies/genres/list`);\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching genres:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Get movies by genre\r\n  async getMoviesByGenre(genreId, page = 1) {\r\n    try {\r\n      const response = await axios.get(`${API_BASE_URL}/movies/discover/genre/${genreId}`, {\r\n        params: { page }\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      console.error('Error fetching movies by genre:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Transform TMDB movie data to match our app's format\r\n  transformMovieData(tmdbMovie) {\r\n    return {\r\n      id: tmdbMovie.id,\r\n      title: tmdbMovie.title,\r\n      year: tmdbMovie.release_date ? new Date(tmdbMovie.release_date).getFullYear() : 'N/A',\r\n      genre: tmdbMovie.genres ? tmdbMovie.genres.map(g => g.name).join(', ') : 'N/A',\r\n      director: 'N/A', // TMDB doesn't provide director in basic movie object\r\n      rating: tmdbMovie.vote_average || 0,\r\n      description: tmdbMovie.overview || 'No description available',\r\n      poster: tmdbMovie.poster_path\r\n        ? `https://image.tmdb.org/t/p/w500${tmdbMovie.poster_path}`\r\n        : 'https://via.placeholder.com/300x450?text=No+Image'\r\n    };\r\n  }\r\n\r\n  // Transform search results\r\n  transformSearchResults(results) {\r\n    return results.map(movie => this.transformMovieData(movie));\r\n  }\r\n}\r\n\r\nexport default new MovieService();\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}